<!-- <div class="row">
  <div class="col-xs-12 "
       style="margin-top:30px;
              width:90%">
    <div class="row list-inline">
        <h3 class="left">Merchants</h3>
        <button 
        class="btn btn-rounded btnAdd right"
        routerLink="/merchants/new"
        >
        <i class="fa fa-plus"></i>
        Merchant
      </button>
    </div>

    <section  *ngIf="isLoading">
        <div class="loading">Loading&#8230;</div>
    </section>

    <div class="row">
        <table>
          <tr 
          class="container-inner ">
            <th 
            style="width: 5%"
            >Merchant Id</th>
            <th
            style="width: 15%"
            >Store Name</th>
            <th
            style="width: 20%"
            >Email</th>
            <th
            style="width: 25%"
            >Address</th>
            <th
            style="width: 15%"
            >Phone No.</th>
            <th
            style="width: 15%"
            >
              Status
            </th>
            <th style="width: 5%"></th>
          </tr>
          <ng-container *ngIf="!isLoading">
              <tr 
              *ngFor="let merchant of merchants"
              >
                <td 
                  style="cursor: pointer;"
                  routerLink="/merchants/merchant/info"
                  (click)="info(merchant)"  
                  class="id">{{ merchant.merchant_id }}</td>
                <td>{{ merchant.merchant_display_name}}</td>
                <td>{{merchant.merchant_email}}</td>
                <td>{{merchant.merchant_address}}</td>
                <td
                style="padding-right: 5px"
                >{{merchant.merchant_phone_no}}</td>
                <td
                style="padding-right: 5px"
                >{{merchant.merchant_verification_status}}</td>
                <td><i 
                    (click)="openModal(template,  merchant)"
                    class="fa fa-times deleteIcon"></i></td>
                    <!-- (click)="deleteMerchant(merchant.merchant_id)" 
              </tr>
          </ng-container>
          
      </table>
  

      <mat-paginator 
              class="paginator"
              [length]="length"
              [pageSize]="pageSize"
              style="font-size: 16px;"
              (page)="pageEvent = changePage($event)">
      </mat-paginator>



      <!-- <div class="row">
        
        <div class="pagination pagination-sm right">
            
          <a href="#">&laquo;</a>
          <a 
          (click)="changePage()" 
          class="active"
          *ngFor="let page of countArray"
          >{{page}}</a>
          <a href="#">&raquo;</a>
        </div>
      </div> -
      
    
    </div>
    


        
  </div>
</div> -->


<div class="table-responsive container">
  <div class="add_merchants">
      <span><h3>Merchants</h3></span>
     <span class="float-right buttons_addmerchants"> <a routerLink="/merchants/new">
       <button class="btn btn-md ">Add Merchants</button></a></span>
   </div>
   <!-- <section  *ngIf="isLoading">
      <div class="loading">Loading&#8230;</div>
  </section> -->
  <div 
    *ngIf="isLoading"
    id="preloader">
    <div class="loader-main mx-auto">
        <img 
        [src]="loaderImage"
        style="max-height:80px; max-width:80px; float: left; margin-right: 15px;" 
        class="img-responsive"
        >
    </div>
    </div>
  <section class="table_entrydata">
       <table class="table table-striped">
          <thead>
            <tr>
              <th>Merchant id</th>
              <th>Store Name</th>
              <th>Email</th>
              <th>Address</th>
              <th>Phone No</th>
              <th>Status</th>
              <th></th>    
            </tr>
          </thead>
          <tbody>
              <tr 
              *ngFor="let merchant of merchants"
              >
                <td 
                  style="cursor: pointer;"
                  routerLink="/merchants/merchant/info"
                  (click)="info(merchant)"  
                  class="id">{{ merchant.merchant_id }}</td>
                <td>{{ merchant.merchant_display_name}}</td>
                <td>{{merchant.merchant_email}}</td>
                <td>{{merchant.merchant_address}}</td>
                <td
                style="padding-right: 5px"
                >{{merchant.merchant_phone_no}}</td>
                <td
                style="padding-right: 5px"
                >{{merchant.merchant_verification_status}}</td>
                <td
                (click)="openModal(template,  merchant)"
                ><i 
                    (click)="openModal(template,  merchant)"
                    class="fas fa-trash"></i></td>
                    <!-- (click)="deleteMerchant(merchant.merchant_id)"  -->
              </tr>
            
           
          </tbody>
           
      </table>
       
      <nav aria-label="...">
            <ul class="pagination float-right">
                  <li class="page-item pointer "
                      [ngClass]="{'disabled':currentPage === 1}"
                  >
                    <a class="page-link " (click)="prev()" tabindex="-1"><strong> Previous</strong></a>
                  </li>
                  <li 
                  *ngFor="let page of totalPages"
                  [ngClass]="{
                    'active':currentPage === page + 1
                  }"
                  (click)="changePage(page + 1)"
                  class="page-item "><a class="page-link">{{page + 1}}</a></li>
                  <li class="page-item pointer"
                      [ngClass]="{'disabled':currentPage === totalPages.length}"
                  > 
                    <a class="page-link " (click)="next()" tabindex="1"><strong>Next</strong></a>
                  </li>
            </ul>
      </nav>


  </section>
</div>  



 
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left"><strong> Delete Merchant </strong></h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
      <div 
      *ngIf="isDeleting"
      id="preloader">
      <div class="loader-main mx-auto">
          <img 
          [src]="loaderImage"
          style="max-height:80px; max-width:80px; float: left; margin-right: 15px;" 
          class="img-responsive"
          >
      </div>
      </div>
      <h4>Are you sure you want to delete {{deleteMerchnat.merchant_display_name}} ? </h4>

        <hr>

      <div class="row add_merchants"
          style="float: right; margin-right: 18px;"
      >
        <button class="btn btn-md "
          (click)="modalRef.hide()"
          >Cancel</button>
        <button 
          (click)="deleteMerchant(deleteMerchnat.merchant_id)"
          class="btn btn-md"> Delete </button>
      </div>
      <div class="row"></div>
      <div class="row"></div>
  </div>
</ng-template>